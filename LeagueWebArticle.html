<!DOCTYPE html>
<!--[if lt IE 8 ]><html class="no-js ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="no-js ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 8)|!(IE)]><!--><html class="no-js" lang="en"> <!--<![endif]-->
<head>


  <!-- One day I will lead and graduate my own Alphabet company! -->


  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-44817159-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-44817159-3');
  </script>



  <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js?ver=1.3.2'></script>
  <script type='text/javascript'>
      
      $(function(){
      
          var iFrames = $('iframe');
        
        function iResize() {
        
          for (var i = 0, j = iFrames.length; i < j; i++) {
            iFrames[i].style.height = iFrames[i].contentWindow.document.body.offsetHeight + 'px';}
            }
            
            if ($.browser.safari || $.browser.opera) { 
            
               iFrames.load(function(){
                   setTimeout(iResize, 0);
                 });
              
               for (var i = 0, j = iFrames.length; i < j; i++) {
                var iSource = iFrames[i].src;
                iFrames[i].src = '';
                iFrames[i].src = iSource;
                 }
                 
            } else {
               iFrames.load(function() { 
                   this.style.height = this.contentWindow.document.body.offsetHeight + 'px';
               });
            }
          
          });

  </script>


  <script>
    $(document).ready(function () {
      $('iframe').iframeAutoHeight({debug: true});
    });
  </script>


   <!--- Basic Page Needs
   ================================================== -->
   <meta charset="utf-8">
	<title>Samuel Silva</title>
	<meta name="description" content="">
	<meta name="author" content="Sam Silva">

   <!-- Mobile Specific Metas
   ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
    ================================================== -->
   <link rel="stylesheet" href="default.css">
	 <link rel="stylesheet" href="layout_blue.css">
   <link rel="stylesheet" href="hexagons.css">
   <link rel="stylesheet" href="media-queries.css">
   <link rel="stylesheet" href="magnific-popup.css">

   <link rel="stylesheet" href="portfolio.min.css">
   <link rel="stylesheet" href="item_page.css"> 

   <!-- Script
   ================================================== -->
	<script src="modernizr.js"></script>
  <script src="https://unpkg.com/isotope-layout@3.0.3/dist/isotope.pkgd.js"></script>

   <!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="background.jpg">

   <style>
   .responsive {
       width: 100%;
       max-width: 200px;
       height: auto;
   }
   </style>
   <link href='https://fonts.googleapis.com/css?family=Raleway:300' rel='stylesheet' type='text/css'>

</head>

<body>


   <!-- About Section
   ================================================== -->

            <h1 >What Influeces a Win in League of Legends?</h1>

            <div class="info-block">
                <div class="info-text">
                  <h3 style= "margin-left: 200px; margin-right: 200px;" > <font color="white">Purpose</font></h3>   
                    <p style= "margin-left: 200px; margin-right: 200px;">
                        League of Legends</a> (LoL)
                        is a multiplayer online battle arena video game developed and published by Riot Games.
                        The game has a variety of game modes but the most popular feature is Summoner's Rift, where two teams of 5
                        aim to destroy the enemy team's Nexus (basically their base). League of Legends has one of the largest eSports communities where
                        countless teams compete for millions of dollars every year.  Arguably, LoL has a pretty significant learning curve where 
                        numerous factors can influence a match, but what are the most influential factors when deciding who wins a game? 
                        This project provides some framework to answer that question, but also provides some machine learning models that can be used
                        to predict a match of League of Legends.  Ultimately, a model that is able to predict the liklihood of winning mid-game while also
                        providing suggestions on what a team needs to do to increase their chances of winning is the goal.

                        </p>
                <div style="text-align:center;">
                    <p>
                        <a href="https://www.redlands.edu/" target="_blank">
                            <img src="LeagueChampions.jpg" style='width:50%;' border="0" alt="Null">
                        </a>
                    </p>
                </div>

                </div>
            </div>

            <h2 >The Data</h2>


            <p >
                The data used in this project is imported from <a href="https://oracleselixir.com/"> Oracle's Elixir</a>, but it is possible to obtain additonal data using a key for the Riot API. 
                The personal key is easy to recieve, but doesn't have a large amount of features that are super relevant to "deep data".  
                The Oracle data used consists of matches from the League of Legends split from January to 07/21/2020.
                There are over 100 features in our dataframe, where utlimately I wanted to see the probability of winning (result). 
                One issues that is apparent is that numeric codes will needed to be added instead of strings (e.g. Champion Names). 
                Furthermore, since I currently care about whether a team wins or loses (binary), I can use an SVM, Logistic model, 
                or anything that deals with binary output. 
                However, I want to run an SVM and a neural network due to its power and ease of inputting variables.
            </p>
    
            <p >
                After looking at the dataframe,
                the columns that need to be given numeric codes includes the champion names which often appear in the `ban` columns 
                and the column of the player being played. 
                Since the champion name appears in multiple columns it might be better to using a dictionary where each champion 
                is tagged to a code.  Other columns that will be encoded include `league`, `side`, `position`, and a few others.
                Now the data is in ready to look at (sort of), I will create a new copy of df and remove any columns that im not 
                interested in or could possibly mess up ant analysis. 
                This includes columns with player names and any urls. 
                I will not be looking at league or patch right now. 
                This is something I'll probably do later and do a focus analysis on both league and individual patches to see 
                how the meta differs.
                There are so many projects and asepects to look at, I am going to be looking at team statistics rather than individual.
            </p>
    
            <div style="text-align:center;">
              <img src="LeagueDF1.PNG" height="300px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px;">Dataframe after the one-hot encoding and numeric codes given to champions.  
                Each champion is given a number in alaphabetic order, for example, Aatrox is 1, Ahri-2,...Zyra-148.</div>
            </div>
    
            <h2>Correlations</h2>


            <p>
              Normally I like visualizing the data with the seaborn package to check out the correlations between features, 
              this gives a general idea on what variables impact the result of a League match.  
              However, when there is 90 something variables, a heatmap and correlation plot looks pretty messy.
              Instead, I can just solve for the correlation matrix and then rank the Pearson's r.
              The results were not too surprsing. 
            </p>
    
            <div style="text-align:center;">
              <img src="LeagueR1.PNG" height="300px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px; margin-bottom: 30px"> text for caption</div>
            </div>
    
            <p >
              Looking the the fifteen most correlated variables with winning we do not see anything too surprising. 
              Variables involving towers are the top two most correlated which makes sense. 
              The more towers you destroy the easier it is to get into a team's base. 
              However, we see that destroying the first tower, or even the first middle tower, 
              isn't extremely correlated with winning the game 
              (but moderately correlateed with the first three towers being the most correlated). 
              Another not very surprising stat is that defeating dragons, drakes, 
              and barons are highly correlated with winning the match. 
              Makes sense, the team gains buffs and gold which can make a team strong, thus making it easier to defeat opponents. 
              This leads into team kills and deaths being correlated with winning. Anyways, no surprise there.
              I can also look at the most negatively correlated variables with losing a match.
            </p>
    
            <div style="text-align:center;">
              <img src="LeagueR2.PNG" height="300px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px; margin-bottom: 30px">Caption</div>
            </div>
    
            <p >
              We know what is associated with winning, and it isn't shocking to see that losing is correlated with losing dragons, 
              team fights, turrets etc.. 
              However, we see some very small correlations with the gold and xp difference towards the middle of a game. 
              And yes, correlation does not imply causation, but I will look at the stats of that later. 
              It would be really interesting to see which dragons are actually slain, to see if teams choose to ignore certain ones. 
              Ultimately, it would be great to have a model, and import in a games actions 
              (e.g. losing/killing cloud drake) and see the probability of the team winning, 
              or what a team needs to do to increase there chances of winning after losing an action.
            </p>

            <h2>Support Vector Machine (SVM)</h2>

    
            <p >
              With some of the correlations in mind, I can use the seaborn package to visualize an example. 
              In this example, I used team kills per minute versus the gold spending percent difference.
              It's pretty clear that the more gold you spend compared to your opponent, and the more kills you get, the better your chances are of winning.
              Also, 1's are a win and 0's are a lose (for clarification).
            </p>
    
            <div style="text-align:center;">
              <img src="KPMvGSPD.PNG" height="300px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px; margin-bottom: 30px"> Correlation plot of kills per minute versus the gold spending percent difference </div>
            </div>
    
            <p >
              With the correlations in mind, I want to create an SVM to predict if a team will win or lose in a match of LoL.  
              Theoretically and often, I can put in numerous variables into an SVM but it become nearly impossible to find an effecient way 
              to visualize the data.  
              Therefore, for now, I will be using the same variables in my correlation plot above. 
              Following machine learning standards and paramter tuning protocol, my model recieved an accuracy of just over 90% on testing data.  
              Reminder, an outcome of 0 is a loss, and an outcome of 1 is a win. 
              Using the parameters given from the GridSearch:
            </p>
    
            <div style="text-align:center;">
              <img src="SVM_param.PNG" height="45px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px;"></div>
            </div>
    
            <p >
              I get an rbf SVM looking like...
            </p>
    
            <div style="text-align:center;">
              <img src="SVMLeague.PNG" height="300px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px;"></div>
            </div>
    
            <div style="text-align:center;">
              <img src="SVMAcc.PNG" height="45px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px;"> SVM plot of kills per minute versus the gold spending percent difference</div>
            </div>
    
            <p >
              Well, that model turned out pretty good, 
              and I can also use Sci-Kit's ".predict()" to input paramters and see the expected result.
            </p>

            <h2 >Neural Network</h2>

            <p >
              Looking at the team data, I created a nueral network with four dense layers and 2 droput layers. The netowrk headTotal params: 1,323
              1,323 Trainable parameters.  I did not conduct any hyper-paramter tuning but recieved very high accuracies on the training, testing, and validation 
              data.
            </p>

            <div style="text-align:center;">
              <img src="LeagueNN_Image.PNG" height="45px"/>
              <div class="caption" style= "margin-left: 200px; margin-right: 200px;">Loss and Accuracy plot for Nueral Network</div>
            </div>


            <p >
              I am also able to input parameters and see the result of said input, however, this is where I start to see limitations on the netowrk design.  
              Using Ski-kit's and Keras packages, I have to input a value for every single feature I use in my NN, I cannot input an NaNs.  
              What if I wanted to input mid-game data and see the chances of winning? I could input the information I do have such as kills and make everything else 0?
              Find the averages for matches with similar stats?  Regardless, I have not found an ideal solution to this, but the average method worked a little better.  
              A better model would to design one's own neural network that can accept NaNs (if possible).  In a field worth billions, eSport's coaches 
              are tasked with creating strategies for their teams, so what if a computer was the one to make the decision based on hundreds of variables and countless 
              data points?
            </p>
    
          </main>
            

   </section> <!-- About Section End-->



   <!-- Projects Section
   ================================================== -->

   <!-- footer
   ================================================== -->
   <footer>
      <div class="row">
         <div class="twelve columns">
<!--             <ul class="social-links">
               <li><a href="#" target="_blank"><i class="fa fa-twitter"></i></a></li>
               <li><a href="https://www.linkedin.com/in/yashmulgaonkar/" target="_blank"><i class="fa fa-linkedin"></i></a></li>
               <li><a href="#" target="_blank"><i class="fa fa-instagram"></i></a></li>
            </ul> -->

            <ul class="copyright">
               <li>&copy;Samuel Silva 2020</li>
               <!-- <li>Design by <a title="Styleshout" href="http://www.styleshout.com/">Styleshout</a></li>    -->
            </ul>

         </div>

         <div id="go-top"><a class="smoothscroll" title="Back to Top" href="#home"><i class="icon-up-open"></i></a></div>

      </div>

   </footer> <!-- Footer End-->

   <!-- Java Script
   ================================================== -->
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
   <script>window.jQuery || document.write('<script src="js/jquery-1.10.2.min.js"><\/script>')</script>
   <script type="text/javascript" src="landing_page/js/jquery-migrate-1.2.1.min.js"></script>

   <script src="flexslider.js"></script>
   <script src="waypoints.js"></script>
   <script src="fittext.js"></script>
   <script src="magnific-popup.js"></script>
   <script src="init.js"></script>
   <script src="iframeResizer.min.js"></script>
   <script type="text/javascript">

    iFrameResize({
      log                     : true,                  // Enable console logging
      enablePublicMethods     : true,                  // Enable methods within iframe hosted page
      resizedCallback         : function(messageData){ // Callback fn when resize is received
        $('p#callback').html(
          '<b>Frame ID:</b> '    + messageData.iframe.id +
          ' <b>Height:</b> '     + messageData.height +
          ' <b>Width:</b> '      + messageData.width + 
          ' <b>Event type:</b> ' + messageData.type
        );
      },
      messageCallback         : function(messageData){ // Callback fn when message is received
        $('p#callback').html(
          '<b>Frame ID:</b> '    + messageData.iframe.id +
          ' <b>Message:</b> '    + messageData.message
        );
        alert(messageData.message);
      },
      closedCallback         : function(id){ // Callback fn when iFrame is closed
        $('p#callback').html(
          '<b>IFrame (</b>'    + id +
          '<b>) removed from page.</b>'
        );
      }
    });


   </script>

</body>

</html>