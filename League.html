<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- This is your own CSS style sheet -->
    <link href="/static/styles.css" rel="stylesheet">

    <title>Portfolio Website</title>
  </head>
  <body>

      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="index.html">Project BORK</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Portfolio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About me</a>
            </li>
          </ul>
        </div>
      </nav>

      <main>
        <h2 style = "margin-top: 25px; margin-left: 100px; margin-right: 100px;">
            What Influeces a Win in League of Legends?
        </h2>

        <p style="margin-left: 200px; margin-right: 200px;">
            <a href="https://na.leagueoflegends.com/en-us/"> League of Legends</a> (LoL)
            is a multiplayer online battle arena video game developed and published by Riot Games.
            The game has a variety of game modes but the most popular feature is Summoner's Rift, where two teams of 5
            aim to destroy the enemy team's Nexus (basically their base). League of Legends has one of the largest eSports communities where
            countless teams compete for millions of dollars every year.  Arguably, LoL has a pretty significant learning curve where 
            numerous factors can influence a match, but what are the most influential factors when deciding who wins a game? 
            This project provides some framework to answer that question, but also provides some machine learning models that can be used
            to predict a match of League of Legends.  Ultimately, a model that is able to predict the liklihood of winning mid-game while also
            providing suggestions on what a team needs to do to increase their chances of winning is the goal.  
        </p>

        <div style="text-align:center;">
            <img src="LeagueChampions.jpg" height="300px"/>
            <div class="caption">League of Legends' Champions</div>
        </div>

        <p style="margin-top: 25px; margin-left: 200px; margin-right: 200px;">
            The data used in this project is imported from <a href="https://oracleselixir.com/"> Oracle's Elixir</a>, but it is possible to obtain additonal data using a key for the Riot API. 
            The personal key is easy to recieve, but doesn't have a large amount of features that are super relevant to "deep data".  
            The Oracle data used consists of matches from the League of Legends split from January to 07/21/2020.
            There are over 100 features in our dataframe, where utlimately I wanted to see the probability of winning (result). 
            One issues that is apparent is that numeric codes will needed to be added instead of strings (e.g. Champion Names). 
            Furthermore, since I currently care about whether a team wins or loses (binary), I can use an SVM, Logistic model, 
            or anything that deals with binary output. 
            However, I want to run an SVM and a neural network due to its power and ease of inputting variables.
        </p>

        <p style= "margin-left: 200px; margin-right: 200px;">
            After looking at the dataframe,
            the columns that need to be given numeric codes includes the champion names which often appear in the `ban` columns 
            and the column of the player being played. 
            Since the champion name appears in multiple columns it might be better to using a dictionary where each champion 
            is tagged to a code.  Other columns that will be encoded include `league`, `side`, `position`, and a few others.
            Now the data is in ready to look at (sort of), I will create a new copy of df and remove any columns that im not 
            interested in or could possibly mess up ant analysis. 
            This includes columns with player names and any urls. 
            I will not be looking at league or patch right now. 
            This is something I'll probably do later and do a focus analysis on both league and individual patches to see 
            how the meta differs.
            There are so many projects and asepects to look at, I am going to be looking at team statistics rather than individual.
        </p>

        <div style="text-align:center;">
          <img src="LeagueDF1.PNG" height="300px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px;">Dataframe after the one-hot encoding and numeric codes given to champions.  
            Each champion is given a number in alaphabetic order, for example, Aatrox is 1, Ahri-2,...Zyra-148.</div>
        </div>

        <p style= "margin-top: 50px; margin-left: 200px; margin-right: 200px;">
          Normally I like visualizing the data with the seaborn package to check out the correlations between features, 
          this gives a general idea on what variables impact the result of a League match.  
          However, when there is 90 something variables, a heatmap and correlation plot looks pretty messy.
          Instead, I can just solve for the correlation matrix and then rank the Pearson's r.
          The results were not too surprsing. 
        </p>

        <div style="text-align:center;">
          <img src="LeagueR1.PNG" height="300px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px; margin-bottom: 30px"> text for caption</div>
        </div>

        <p style= "margin-left: 200px; margin-right: 200px;">
          Looking the the fifteen most correlated variables with winning we do not see anything too surprising. 
          Variables involving towers are the top two most correlated which makes sense. 
          The more towers you destroy the easier it is to get into a team's base. 
          However, we see that destroying the first tower, or even the first middle tower, 
          isn't extremely correlated with winning the game 
          (but moderately correlateed with the first three towers being the most correlated). 
          Another not very surprising stat is that defeating dragons, drakes, 
          and barons are highly correlated with winning the match. 
          Makes sense, the team gains buffs and gold which can make a team strong, thus making it easier to defeat opponents. 
          This leads into team kills and deaths being correlated with winning. Anyways, no surprise there.
          I can also look at the most negatively correlated variables with losing a match.
        </p>

        <div style="text-align:center;">
          <img src="LeagueR2.PNG" height="300px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px; margin-bottom: 30px">Caption</div>
        </div>

        <p style= "margin-left: 200px; margin-right: 200px;">
          We know what is associated with winning, and it isn't shocking to see that losing is correlated with losing dragons, 
          team fights, turrets etc.. 
          However, we see some very small correlations with the gold and xp difference towards the middle of a game. 
          And yes, correlation does not imply causation, but I will look at the stats of that later. 
          It would be really interesting to see which dragons are actually slain, to see if teams choose to ignore certain ones. 
          Ultimately, it would be great to have a model, and import in a games actions 
          (e.g. losing/killing cloud drake) and see the probability of the team winning, 
          or what a team needs to do to increase there chances of winning after losing an action.
        </p>

        <p style= "margin-left: 200px; margin-right: 200px;">
          With some of the correlations in mind, I can use the seaborn package to visualize an example. 
          In this example, I used team kills per minute versus the gold spending percent difference.
          It's pretty clear that the more gold you spend compared to your opponent, and the more kills you get, the better your chances are of winning.
          Also, 1's are a win and 0's are a lose (for clarification).
        </p>

        <div style="text-align:center;">
          <img src="KPMvGSPD.png" height="300px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px; margin-bottom: 30px"> Correlation plot of kills per minute versus the gold spending percent difference </div>
        </div>

        <p style= "margin-left: 200px; margin-right: 200px;">
          With the correlations in mind, I want to create an SVM to predict if a team will win or lose in a match of LoL.  
          Theoretically and often, I can put in numerous variables into an SVM but it become nearly impossible to find an effecient way 
          to visualize the data.  
          Therefore, for now, I will be using the same variables in my correlation plot above. 
          Following machine learning standards and paramter tuning protocol, my model recieved an accuracy of just over 90% on testing data.  
          Reminder, an outcome of 0 is a loss, and an outcome of 1 is a win. 
          Using the parameters given from the GridSearch:
        </p>

        <div style="text-align:center;">
          <img src="SVM_param.PNG" height="45px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px;"></div>
        </div>

        <p style= "margin-left: 200px; margin-right: 200px;">
          I get an rbf SVM looking like...
        </p>

        <div style="text-align:center;">
          <img src="SVM1.png" height="300px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px;"></div>
        </div>

        <div style="text-align:center;">
          <img src="SVMAcc.PNG" height="45px"/>
          <div class="caption" style= "margin-left: 200px; margin-right: 200px;"> SVM plot of kills per minute versus the gold spending percent difference</div>
        </div>

        <p style= "margin-left: 200px; margin-right: 200px;">
          Well, that model turned out pretty good, and I can also use Sci-Kit's ".predict()"
        </p>

      </main>


      <footer class="small text-center text-muted">
        <p class="copyright">Copyright &copy; 2020 | Your Name</p>
      </footer>

      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

  </body>
</html>
